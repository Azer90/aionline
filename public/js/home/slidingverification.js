function SlidingVerification(dom){function loadStyle(url){var link=document.createElement('link');link.type='text/css';link.rel='stylesheet';link.href=url;var head=document.getElementsByTagName('head')[0];head.appendChild(link);}
loadStyle('SlidingVerification.css');function $(name){if(name.indexOf("#")!=-1){return document.getElementById(name.split('#')[1]);}else{return document.querySelector(name);}}
var _html='<div class="sv-btn"></div><p class="sv-text">拖动滑块验证</p><div class="sv-bg"></div>';var _sv_box=$(dom);_sv_box.innerHTML=_html;var _sv_btn=$('.sv-btn'); var _ggw=$('.ggw');var _sv_text=$('.sv-text');var _sv_bg=$('.sv-bg');var _sv_flag=false;_sv_btn.onmousedown=function(event){var downX=event.clientX;_sv_btn.onmousemove=function(event){var moveX=event.clientX-downX;if(moveX>0){this.style.left=moveX+'px';_sv_bg.style.width=moveX+'px';if(moveX>=_sv_box.offsetWidth-this.offsetWidth){_sv_flag=true;_sv_text.innerText='通过验证';_sv_text.style.color='#fff';this.onmousedown=null;this.onmousemove=null; _ggw.style.display='none';bofan();}}};};_sv_btn.onmouseup=function(event){this.onmousemove=null;if(_sv_flag){return}
this.style.left=0;_sv_bg.style.width=0;};}